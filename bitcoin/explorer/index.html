<!DOCTYPE html>
<html lang="fr">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Index/Bitcoin</title>
    <link rel="icon" type ="image/x-icon" href="../../img/favicon-bitcoin.ico">

    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/landing-page.css" rel="stylesheet">


    <!-- Custom Fonts -->
    <link href="../../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">


</head>

 <body>
   <!-- Navigation -->
   <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
       <div class="container topnav">
           <!-- Brand and toggle get grouped for better mobile display -->
           <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
               </button>
               <a class="navbar-brand topnav" href="#">Ingénierie Financière / Blockchain</a>
           </div>
           <!-- Collect the nav links, forms, and other content for toggling -->
           <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
               <ul class="nav navbar-nav navbar-right">
                   <li>
                       <a href="../../index.html">Home</a>
                   </li>
                   <li>
                      <a href="../index.html">Bitcoin</a>
                   </li>
                   <li>
                     <a href="index.html">Explorer</a>
                   </li>
                   <li>
                     <a href="../../qr/index.html">QR Code</a>
                   </li>
               </ul>
           </div>
           <!-- /.navbar-collapse -->
       </div>
       <!-- /.container -->
   </nav>

   <div class="content-section-a">

       <div class="container">
           <div class="row">
             <br>

               <div class="col-lg-5 col-sm-6">
                   <!--hr class="section-heading-spacer"> <!--barre horizontale--
                   <div class="clearfix"></div>
                   <h2 class="section-heading">Lorem ipsum dolor</h2>
                   <p class="lead">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse accumsan arcu ut mauris rhoncus, id ultricies nulla tempus. Nunc velit risus, elementum eu nunc a, rhoncus mattis dui. In at faucibus lacus, quis vehicula dui. Duis ac lectus ac mauris porttitor gravida. Mauris aliquam tortor ut rhoncus varius. Praesent convallis, mauris vel consectetur feugiat, nunc nisl finibus eros, sed lacinia felis nibh sed lectus. Aliquam imperdiet condimentum diam. Nam dignissim enim sapien, sit amet vulputate dolor vehicula nec. Maecenas et nisi urna.</p>
              -->
              <form id="form">
                <div class="form-group">
                  <label for="adresse">Adresse URL</label>
                  <input id="adresse" name="url"type="url" class="form-control" placeholder="Rentrez une adresse URL">
                </div>
                <button id="function_bouton" type="button" class="btn btn-secondary">Envoyer</button>
              </form>
             </div>
               <div class="col-lg-5 col-lg-offset-2 col-sm-6">
                   <!--img class="img-responsive" src="img/test.png" alt=""-->
               </div>
           </div>

       </div>

       <div class="container">
         <h2>Info</h2>
           <div class="row">
             <br>
             <div class="col-lg-12 col-xs-6">
    	          <pre>
        	         <code id="info" class="json kljs"></code>
    	            </pre>
	           </div>
               <div class="col-lg-5 col-sm-6">
                   <hr class="section-heading-spacer"> <!--barre horizontale-->
                   <div class="clearfix"></div>
               </div>
               <div class="col-lg-5 col-lg-offset-2 col-sm-6">
                   <!--img class="img-responsive" src="img/test.png" alt=""-->
               </div>
           </div>

       </div>
       <!-- /.container-->
       <script type="text/javascript">
         var button = document.getElementById("function_bouton");
         button.addEventListener("click",function() {
           var adresse = document.getElementById("adresse").value;
           console.log(adresse);
           if (adresse == "https://bitcoin.mubiz.com/info")
           {
             var xmlhttp = new XMLHttpRequest();
             xmlhttp.onreadystatechange = function() {
                 if (this.readyState == 4 && this.status == 200) {
                     var myObj = JSON.parse(this.responseText);
                     document.getElementById("info").innerHTML = "\n blocks: "+myObj.blocks+"\n version: "+myObj.version+"\n paytxfee: "+myObj.paytxfee;
                 }
             };
             xmlhttp.open("GET", adresse, true);
             xmlhttp.send();
           }

           else if (adresse == "https://bitcoin.mubiz.com/blockchaininfo")
           {
             var xmlhttp = new XMLHttpRequest();
             xmlhttp.onreadystatechange = function() {
                 if (this.readyState == 4 && this.status == 200) {
                     var myObj = JSON.parse(this.responseText);
                     document.getElementById("info").innerHTML = "\n main: "+myObj.main+"\n version: "+myObj.version+"\n paytxfee: "+myObj.paytxfee;
                 }
             };
             xmlhttp.open("GET", adresse, true);
             xmlhttp.send();
           }

           else if (adresse == "https://bitcoin.mubiz.com/mininginfo")
           {
             var xmlhttp = new XMLHttpRequest();
             xmlhttp.onreadystatechange = function() {
                 if (this.readyState == 4 && this.status == 200) {
                     var myObj = JSON.parse(this.responseText);
                     document.getElementById("info").innerHTML = "\n blocks: "+myObj.blocks+"\n difficulty: "+myObj.difficulty+"\n chain: "+myObj.chain;
                 }
             };
             xmlhttp.open("GET", adresse, true);
             xmlhttp.send();
           }

           else if (adresse == "https://bitcoin.mubiz.com/peerinfo")
           {
             var xmlhttp = new XMLHttpRequest();
             xmlhttp.onreadystatechange = function() {
                 if (this.readyState == 4 && this.status == 200) {
                     var myObj = JSON.parse(this.responseText);
                     document.getElementById("info").innerHTML = "\n id: "+myObj.id;
                 }
             };
             xmlhttp.open("GET", adresse, true);
             xmlhttp.send();
           }

           else if(adresse == "")
           {
             alert("Veuillez rentrer une adresse URL valide");
           }

           else {
             alert("Cette adresse n'a pas encore été étudié");
           }

         });
       </script>
   </div>
 </body>
